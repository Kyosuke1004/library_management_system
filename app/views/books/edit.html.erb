<h1 class="title is-4 mb-4">図書情報の編集</h1>
<div class="box">
  <%= form_with(model: @book, local: true) do |f| %>
    <div class="field">
      <label class="label">タイトル</label>
      <div class="control">
        <%= f.text_field :title, class: "input" %>
      </div>
    </div>
    <div class="field mt-2">
      <label class="label">著者（カンマ区切り・予測変換可）</label>
      <div class="control" style="position: relative;">
        <%= f.text_area :author_names, rows: 2, class: "input", id: "author-input", autocomplete: "off", value: @book.authors.map(&:name).join(', ') %>
        <div id="author-suggestions"></div>
      </div>
    </div>
    <div class="field">
      <label class="label">出版社</label>
      <div class="control">
        <%= f.text_field :publisher, class: "input" %>
      </div>
    </div>
    <div class="field">
      <label class="label">出版年</label>
      <div class="control">
        <%= f.text_field :published_year, class: "input" %>
      </div>
    </div>
    <div class="field">
      <label class="label">ISBN</label>
      <div class="control">
        <%= f.text_field :isbn, class: "input" %>
      </div>
    </div>
    <div class="field is-grouped mt-4">
      <div class="control">
        <%= f.submit "更新", class: "button is-success is-dark" %>
      </div>
      <div class="control">
        <%= link_to "戻る", book_path(@book), class: "button is-ghost" %>
      </div>
    </div>
  <% end %>
</div>